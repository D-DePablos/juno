---
title: StarkNet State Integration
---

In order to archive the full StarkNet State integration, we need to first implement a
[Feeder Gateway Client](../features/feeder-gateway.mdx), we should then be able to retrieve the current state from the Gateway 
by iterating over all existing blocks, from genesis to the latest.


We first need to build the StarkNet State, as described [here](https://starknet.io/documentation/starknet-state/).

After that, we will need to iterate over all the state updates, updating our state by making a sequence of calls
to get_state_update using the feeder gateway. We expect the responses to follow the following format:
```json
{
  "block_hash" : "hash",
  "old_root" : "hash",
  "new_root" : "hash",
  "state_diff" : {
    "deployed_contracts" : [
      "addresses"
    ],
    "storage_diffs" : [
      {
        "hash" : [
          {
            "key" : "hash",
            "value" : "hash"
          }
        ]
      }
    ]
  }

}
```

An example request can be found by calling [this](https://alpha4.starknet.io/feeder_gateway/get_state_update?block_number=1).